apply plugin: 'java'
apply plugin: 'scala'
apply plugin: 'maven'
apply plugin: 'idea'

buildscript {
    repositories {
        jcenter()
        mavenLocal()
        mavenCentral()
        maven { url "https://plugins.gradle.org/m2/" }
    }
    dependencies {
        classpath group: 'kr.motd.gradle', name: 'sphinx-gradle-plugin', version: '1.0.3.Final'
        classpath "jp.classmethod.aws:gradle-aws-plugin:0.35"
        classpath "com.github.viswaramamoorthy:gradle-util-plugins:0.1.0-RELEASE"
        classpath 'cz.alenkacz:gradle-scalafmt:1.7.0'
    }
}

group  = "beam-utilities"
version  = "0.0.1"

def scalaBinaryVersion = "2.12"
def slf4jVersion = "1.7.25"


allprojects {
    repositories {
        maven { url 'http://download.osgeo.org/webdav/geotools/'}
        maven { url "http://maven.geotoolkit.org/" }
        maven { url "https://repository.jboss.org/nexus/content/repositories/thirdparty-releases" }
        maven { url "http://central.maven.org/maven2" }
        maven { url "http://repo.maven.apache.org/maven2" }
        maven { url "http://download.osgeo.org/webdav/geotools" }
        maven { url "http://dl.bintray.com/matsim/matsim" }
        maven { url "http://maven.conveyal.com/" }
        maven { url "http://repo1.maven.org/maven2" }
        maven { url "http://download.java.net/maven/2/" }
        maven { url "http://people.apache.org/repo/m1-ibiblio-rsync-repository/org.apache.axis2/" }
        maven { url "http://dl.bintray.com/andimarek/graphql-java" }
        maven { url "http://maven.geo-solutions.it" }
        maven { url "http://dl.bintray.com/scalaz/releases" }
        mavenLocal()
        mavenCentral()
        jcenter()
        maven { url "http://nexus.onebusaway.org/content/groups/public/" }
        maven { url "https://jitpack.io" }
    }
}

dependencies {

    // GPLv3

    compile group: 'org.matsim.contrib', name: 'multimodal', version: '0.10.0'
    compile group: 'org.matsim.contrib', name: 'bicycle', version: '0.10.0'
    compile (group: 'org.matsim', name: 'matsim', version: '0.10.0-beam-1') {
        exclude group: 'log4j', module: 'log4j'
    }
    compile group: 'org.matsim.contrib', name: 'socnetsim', version: '0.10.0'

    compile "org.slf4j:slf4j-api:${slf4jVersion}"
    compile "ch.qos.logback:logback-classic:1.2.3"
    compile "com.typesafe.scala-logging:scala-logging_${scalaBinaryVersion}:3.9.0"
    compile "org.slf4j:log4j-over-slf4j:${slf4jVersion}"
    compile group: 'org.geotools' , name: 'gt-geotiff' , version: '14.0'

    testCompile group: 'junit', name: 'junit', version: '4.8'
    testCompile group: 'org.mockito', name: 'mockito-inline', version: '2.+'
    testCompile group: "org.mockito", name: "mockito-core", version: "2.+"
}

task sourcesJar(type: Jar, dependsOn: classes) {
    classifier = 'sources'
    from sourceSets.main.allSource
}

task javadocJar(type: Jar, dependsOn: javadoc) {
    classifier = 'javadoc'
    from javadoc.destinationDir
}

artifacts {
    archives sourcesJar
    archives javadocJar
}
